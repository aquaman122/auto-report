const moment = require('moment');

class ReportTemplate {
  generateReport(data) {
    const currentDate = moment().format('YYYY년 MM월 DD일');
    const meetingDate = data.date ? moment(data.date).format('YYYY년 MM월 DD일') : currentDate;
    
    return `
┌─────────────────────────────────────────────────────────────┐
│                          회 의 록                           │
└─────────────────────────────────────────────────────────────┘

회의제목: ${data.title}
회의일시: ${meetingDate}  
회의장소: ${data.place}

참여자명단:
┌─────────┬─────┬─────┬─────┬─────┬─────┐
│ 참여자  │소속 │ 서명│참여자│소속 │서명 │
├─────────┼─────┼─────┼─────┼─────┼─────┤
│         │     │     │     │     │     │
├─────────┼─────┼─────┼─────┼─────┼─────┤
│         │     │     │     │     │     │
└─────────┴─────┴─────┴─────┴─────┴─────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 회의 내용
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

${data.summary}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📄 회의 상세 내용 (전체 녹취록)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

${data.transcription}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 정리 정보
┌─────────┬──────────────┬──────────────────┐
│  항목   │    단계      │      정보        │
├─────────┼──────────────┼──────────────────┤
│  입계   │    다과       │      회의식사    │
├─────────┼──────────────┼──────────────────┤
│  단계   │    (total)   │   (snacks)       │
├─────────┼──────────────┼──────────────────┤
│  타페   │   (meeting   │    (meals)       │
│         │    -total)   │                  │
└─────────┴──────────────┴──────────────────┘

※ 상기 내용 기재 정확히 최소 30,000원 / 내부 회의시 최대 15,000원,
다과비 1인 최대 10,000원, 주류 경비 별첨, 금액 이상 결제시 불가

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎤 회의 사진(회의 장면과 자료, 식당 사진 촬영)

[회의 사진 첨부 공간]        [회의 사진 첨부 공간]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 작성 정보
• 자동 생성 시스템: OpenAI Whisper + GPT
• 생성 일시: ${moment().format('YYYY-MM-DD HH:mm:ss')}
• 처리 완료

    `.trim();
  }
};

module.exports = new ReportTemplate();